!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self).MicroModal=b()}(this,function(){"use strict";function b(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function j(a){return function(a){if(Array.isArray(a))return c(a)}(a)||function(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return c(a,b);var d=Object.prototype.toString.call(a).slice(8,-1);return"Object"===d&&a.constructor&&(d=a.constructor.name),"Map"===d||"Set"===d?Array.from(d):"Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?c(a,b):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var d,f,g,h,k,e=(d=["a[href]","area[href]","input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]","[tabindex]:not([tabindex^=\"-\"])"],f=function(){function p(b){var e=b.targetModal,n=b.triggers,i=void 0===n?[]:n,a=b.onShow,o=void 0===a?function(){}:a,q=b.onClose,l=void 0===q?function(){}:q,c=b.openTrigger,d=void 0===c?"data-micromodal-trigger":c,r=b.closeTrigger,f=void 0===r?"data-micromodal-close":r,h=b.openClass,s=void 0===h?"is-open":h,m=b.disableScroll,g=b.disableFocus,t=b.awaitCloseAnimation,u=b.awaitOpenAnimation,k=b.debugMode;!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,p),this.modal=document.getElementById(e),this.config={debugMode:void 0!==k&&k,disableScroll:void 0!==m&&m,openTrigger:d,closeTrigger:f,openClass:s,onShow:o,onClose:l,awaitCloseAnimation:void 0!==t&&t,awaitOpenAnimation:void 0!==u&&u,disableFocus:void 0!==g&&g},0<i.length&&this.registerTriggers.apply(this,j(i)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var c,e,f;return c=p,(e=[{key:"registerTriggers",value:function(){for(var a=this,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];c.filter(Boolean).forEach(function(b){b.addEventListener("click",function(b){return a.showModal(b)})})}},{key:"showModal",value:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var c=function b(){a.modal.removeEventListener("animationend",b,!1),a.setFocusToFirstNode()};this.modal.addEventListener("animationend",c,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,b)}},{key:"closeModal",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,b=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,a),this.config.awaitCloseAnimation){var c=this.config.openClass;this.modal.addEventListener("animationend",function a(){b.classList.remove(c),b.removeEventListener("animationend",a,!1)},!1)}else b.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(a){this.modal=document.getElementById(a),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(a){if(this.config.disableScroll){var b=document.querySelector("body");"enable"===a?Object.assign(b.style,{overflow:""}):"disable"===a?Object.assign(b.style,{overflow:"hidden"}):void 0}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(a){a.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(a)}},{key:"onKeydown",value:function(a){27===a.keyCode&&this.closeModal(a),9===a.keyCode&&this.retainFocus(a)}},{key:"getFocusableNodes",value:function(){var a=this.modal.querySelectorAll(d);return Array.apply(void 0,j(a))}},{key:"setFocusToFirstNode",value:function(){var a=this;if(!this.config.disableFocus){var b=this.getFocusableNodes();if(0!==b.length){var c=b.filter(function(b){return!b.hasAttribute(a.config.closeTrigger)});0<c.length&&c[0].focus(),0===c.length&&b[0].focus()}}}},{key:"retainFocus",value:function(a){var b=this.getFocusableNodes();if(0!==b.length)if(b=b.filter(function(a){return null!==a.offsetParent}),this.modal.contains(document.activeElement)){var c=b.indexOf(document.activeElement);a.shiftKey&&0===c&&(b[b.length-1].focus(),a.preventDefault()),!a.shiftKey&&0<b.length&&c===b.length-1&&(b[0].focus(),a.preventDefault())}else b[0].focus()}}])&&b(c.prototype,e),f&&b(c,f),p}(),g=null,h=function(a){if(!document.getElementById(a))return console.warn("MicroModal: \u2757Seems like you have missed %c'".concat(a,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;","<div class=\"modal\" id=\"".concat(a,"\"></div>")),!1},k=function(a,b){if(function(a){0>=a.length&&(console.warn("MicroModal: \u2757Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;","<a href=\"#\" data-micromodal-trigger=\"my-modal\"></a>"))}(a),!b)return!0;for(var c in b)h(c);return!0},{init:function(a){var b=Object.assign({},{openTrigger:"data-micromodal-trigger"},a),d=j(document.querySelectorAll("[".concat(b.openTrigger,"]"))),e=function(a,b){var c=[];return a.forEach(function(a){var d=a.attributes[b].value;void 0===c[d]&&(c[d]=[]),c[d].push(a)}),c}(d,b.openTrigger);if(!0!==b.debugMode||!1!==k(d,e))for(var h in e){var i=e[h];b.targetModal=h,b.triggers=j(i),g=new f(b)}},show:function(a,b){var c=b||{};c.targetModal=a,!0===c.debugMode&&!1===h(a)||(g&&g.removeEventListeners(),(g=new f(c)).showModal())},close:function(a){a?g.closeModalById(a):g.closeModal()}});return window.MicroModal=e,e}),function(a,b){"object"==typeof module&&module.exports?module.exports=b():a.Toastify=b()}(this,function(){function a(a,b){return!!(a&&"string"==typeof b)&&!!(a.className&&-1<a.className.trim().split(/\s+/gi).indexOf(b))}// Setting up the prototype for the init object
// Object initialization
var b=function(a){// Returning a new init object
return new b.lib.init(a)}// Library version
;// Defining the prototype of the object
// Returning the Toastify function to be assigned to the window object/module
return b.lib=b.prototype={toastify:"1.7.0",constructor:b,// Initializing the object with required parameters
init:function(a){// Callback after click
// Returning the current object for chaining functions
return a||(a={}),this.options={},this.toastElement=null,this.options.title=a.title,this.options.text=a.text||"Hi there!",this.options.duration=0===a.duration?0:a.duration||3e3,this.options.selector=a.selector,this.options.callback=a.callback||function(){},this.options.destination=a.destination,this.options.newWindow=a.newWindow||!1,this.options.close=a.close||!1,this.options.gravity="bottom"===a.gravity?"toastify-bottom":"toastify-top",this.options.positionLeft=a.positionLeft||!1,this.options.position=a.position||"",this.options.backgroundColor=a.backgroundColor,this.options.avatar=a.avatar||"",this.options.className=a.className||"",this.options.stopOnFocus=void 0===a.stopOnFocus||a.stopOnFocus,this.options.onClick=a.onClick,this},// Building the DOM element
buildToast:function(){// Validating if the options are defined
if(!this.options)throw"Toastify is not initialized";// Creating the DOM object
var a=document.createElement("div");if(a.className="toastify on "+this.options.className,this.options.position?a.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(a.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):a.className+=" toastify-right",a.className+=" "+this.options.gravity,this.options.backgroundColor&&(a.style.background=this.options.backgroundColor),a.innerHTML=`<div class="toastify-inner">
                                <span class="toastify-title">${this.options.title}:</span>
                                <span class="toastify-content">${this.options.text}</span>
                              </div>`,""!==this.options.avatar){var b=document.createElement("img");b.src=this.options.avatar,b.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?a.appendChild(b):a.insertAdjacentElement("beforeend",b)}// Adding a close icon to the toast
if(!0===this.options.close){// Create a span for close element
var c=document.createElement("div");c.innerHTML=`<icon class="icon close"></icon>`,c.className="icon-container-inner",c.addEventListener("click",function(a){a.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));//Calculating screen width
var d=0<window.innerWidth?window.innerWidth:screen.width;// Adding the close icon to the toast element
// Display on the right if screen width is less than or equal to 360px
("left"==this.options.position||!0===this.options.positionLeft)&&360<d?a.insertAdjacentElement("afterbegin",c):a.appendChild(c)}// Clear timeout while toast is focused
if(this.options.stopOnFocus&&0<this.options.duration){const b=this;// stop countdown
a.addEventListener("mouseover",function(){window.clearTimeout(a.timeOutValue)}),a.addEventListener("mouseleave",function(){a.timeOutValue=window.setTimeout(function(){b.removeElement(a)},b.options.duration)})}// Adding an on-click destination path
// Returning the generated element
return"undefined"!=typeof this.options.destination&&a.addEventListener("click",function(a){a.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&"undefined"==typeof this.options.destination&&a.addEventListener("click",function(a){a.stopPropagation(),this.options.onClick(a.target.closest(".toastify"))}.bind(this)),a},// Displaying the toast
showToast:function(){this.toastElement=this.buildToast();// Getting the root element to with the toast needs to be added
var a;// Validating if root element is present in DOM
if(a="undefined"==typeof this.options.selector?document.body:document.getElementById(this.options.selector),!a)throw"Root element is not defined";// Adding the DOM element
// Supporting function chaining
return a.insertBefore(this.toastElement,a.firstChild),b.reposition(),0<this.options.duration&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},// Removing the element from the DOM
removeElement:function(a){a.className=a.className.replace(" on"," toast-go-away"),window.setTimeout(function(){a.parentNode&&a.parentNode.removeChild(a),this.options.callback.call(a),b.reposition()}.bind(this),400)}},b.reposition=function(){// Modifying the position of each toast element
// Get all toast messages on the DOM
for(var b,c={top:30,bottom:30},d={top:30,bottom:30},e={top:30,bottom:30},f=document.getElementsByClassName("toastify"),g=0;g<f.length;g++){b=!0===a(f[g],"toastify-top")?"toastify-top":"toastify-bottom";var h=f[g].offsetHeight;b=b.substr(9,b.length-1);// Spacing between toasts
var j=0<window.innerWidth?window.innerWidth:screen.width;360>=j?(f[g].style[b]=e[b]+"px",e[b]+=h+15):!0===a(f[g],"toastify-left")?(f[g].style[b]=c[b]+"px",c[b]+=h+15):(f[g].style[b]=d[b]+"px",d[b]+=h+15)}// Supporting function chaining
// Top margins with gravity
return this},b.lib.init.prototype=b.lib,b}),window.addEventListener("resize",calcHiderTransform),window.addEventListener("keydown",keyboardShortcuts),window.addEventListener("click",checkIfPopoutIsOpen),window.addEventListener("blur",checkIfPopoutIsOpen);let iframe=document.querySelector("#theme-preview");iframe.addEventListener("load",updateIframeContent);async function updateIframeContent({build:a,directory:b,view:c}={}){let d=document.querySelector("#theme-preview");a&&(d.dataset.build=a,d.contentWindow.document.querySelector("#discord-css").href=`${a}/styles.css`,console.log(d.contentWindow.document.querySelector("#discord-css").href)),b&&(d.dataset.directory=b),c&&(d.dataset.view=c);let e=d.dataset.build,f=d.dataset.directory,g=d.dataset.view,h=d.dataset.compact;document.documentElement.classList.add("loading-iframe"),await sleep(500),fetch(`preview/${e}/${f}/${h?"compact/":""}${g}.html`).then(a=>200===a.status?a.text():Promise.reject()).then(async a=>{function b(a){a.preventDefault()}////////////////////////////////
// Convert the HTML string into a document object
let c=new DOMParser;var d=c.parseFromString(a,"text/html");let e=document.querySelector("#theme-preview");e.contentWindow.document.body=d.body;// Prevent links in the iframe from being clicked
let f=e.contentWindow.document.querySelectorAll("a");for(let c of f)c.addEventListener("click",b);discordDarkSidebar(),await sleep(500),document.documentElement.classList.remove("loading-iframe","iframe-didnt-load")}).catch(async()=>{// There was an error
await sleep(500),document.documentElement.classList.remove("loading-iframe"),document.documentElement.classList.add("iframe-didnt-load")})}document.querySelector(".main-nav-hider").addEventListener("click",hideMainNav);function sleep(a){return new Promise(b=>setTimeout(b,a))}function slugify(a){return a.toString().toLowerCase().trim().replace(/\s+/g,"-")// Replace spaces with -
.replace(/&/g,"and")// Replace & with and
.replace(/[^\w\-]+/g,"")// Remove all non-word chars
.replace(/\-\-+/g,"-");// Replace multiple - with single
}async function hideMainNav(){document.documentElement.classList.contains("main-nav-hidden")?document.documentElement.classList.remove("main-nav-hidden"):(document.documentElement.classList.add("main-nav-hidden"),calcHiderTransform())}function calcHiderTransform(){let a=document.querySelector(".main-nav-hider"),b=window.innerHeight-30+"px";// Here we're getting the iframe container height and adding 2x the margin (20px) for the top and bottom
// Next we use that computed value to place the main-nav-hider near the bottom right of the screen
a.style.transform=`translate3d(0, ${b}, 0)`}function keyboardShortcuts(a){"Escape"==a.code&&(closePopouts(),document.documentElement.classList.contains("main-nav-hidden")&&document.documentElement.classList.remove("main-nav-hidden"))}document.querySelector(".main-nav .icon.light-mode").parentElement.addEventListener("click",toggleLightMode);async function toggleLightMode(){document.documentElement.classList.toggle("switching-theme-mode"),await sleep(250),document.documentElement.classList.toggle("light-mode"),await sleep(250),document.documentElement.classList.toggle("switching-theme-mode")}let selectOptions=document.querySelectorAll(".select-option");for(let a of selectOptions)a.addEventListener("click",processSelect);function processSelect(a){let b=this.parentElement,c=b.children,d=this.querySelector(".select-option-span").textContent;if(!this.classList.contains("select-nested-option")){if(this.classList.contains("disabled"))return void a.preventDefault();if(b.classList.contains("select-nested-options")){let a=b.closest(".select-label"),c=a.querySelectorAll(".select-option");for(let a of c)a.classList.remove("current");this.classList.add("current"),a.querySelector(".select-option-selected .select-option-selected-text").textContent=d;let e=b.parentElement.querySelector(".select-option-span").textContent;return void(a.querySelector(".view-options")&&updateIframeContent({directory:`${slugify(e)}`,view:`${slugify(d)}`}))}if(!b.classList.contains("settings-options")){for(let a of c)a.classList.remove("current");this.classList.add("current"),b.classList.contains("palette-options")||(b.closest(".select-label").querySelector(".select-option-selected .select-option-selected-text").textContent=d,b.classList.contains("discord-build")&&updateIframeContent({build:`${slugify(d)}`}))}}}MicroModal.init({onShow:()=>{},onClose:a=>{a.classList.remove("modal-is-open")},openTrigger:"data-modal-open",closeTrigger:"data-modal-close",openClass:"modal-is-open",disableFocus:!1,awaitOpenAnimation:!0,awaitCloseAnimation:!0}),document.querySelector("#from-the-web").addEventListener("click",fromTheWeb),document.querySelector("#from-the-web-2").addEventListener("click",fromTheWeb),document.querySelector("#from-your-computer").addEventListener("click",fromYourComputer),document.querySelector("#from-your-computer-2").addEventListener("click",fromYourComputer);function fromTheWeb(){let a=document.querySelector("#modal"),b=a.querySelector(".modal__title"),c=a.querySelector(".modal__content"),d=a.querySelector("#submit");b.textContent="Import CSS from URL",c.innerHTML=`
    <div class="icon-container" aria-label="Paste URL from clipboard" data-tooltip-position="bottom" role="tooltip">
      <div class="icon-container-inner">
        <icon class="icon clipboard"></icon>
      </div>
    </div>
    <div class="text-input-wrapper">
      <input type="text" name="css-url-input" id="css-url-input" class="text-input" required>
      <span class="text-input-border"></span>
      <div class="icon-container input-clear">
        <div class="icon-container-inner">
          <icon class="icon close"></icon>
        </div>
      </div>
      <label for="css-url-input" class="text-input-label">Enter the URL</label>
    </div>`;let e=document.querySelector("#modal-content .clipboard").parentElement.parentElement,f=document.querySelector(".input-clear");f.addEventListener("click",function(){document.querySelector(".text-input-wrapper input").value=""}),e.addEventListener("click",pasteIntoInput),d.addEventListener("click",importCSSFromURL)}function fromYourComputer(){let a=document.querySelector("#modal"),b=a.querySelector(".modal__title"),c=a.querySelector(".modal__content"),d=a.querySelector("#submit");b.textContent="Import CSS from File",c.innerHTML=`
    <div class="icon-container" aria-label="Upload a CSS file" data-tooltip-position="bottom" role="tooltip">
      <div class="icon-container-inner">
        <icon class="icon attachment"></icon>
      </div>
    </div>
    <div class="text-input-wrapper">
      <input type="file" name="css-file-input" id="css-file-input" class="text-input" required>
      <input type="text" name="css-file-text-input" id="css-file-text-input" class="text-input" required>
      <span class="text-input-border"></span>
      <div class="icon-container input-clear">
        <div class="icon-container-inner">
          <icon class="icon close"></icon>
        </div>
      </div>
      <label for="css-url-input" class="text-input-label">Upload your file</label>
    </div>`;let e=document.querySelector("#modal-content .attachment").parentElement.parentElement;e.addEventListener("click",submitFile);let f=document.querySelector(".input-clear");f.addEventListener("click",function(){document.querySelectorAll(".text-input-wrapper input")[0].value="",document.querySelectorAll(".text-input-wrapper input")[1].value=""});let g=document.querySelector(".modal input[type=\"file\"]");g.addEventListener("change",fileSubmitted),d.addEventListener("click",importCSSFromFile)}let paletteOptions=document.querySelectorAll(".palette-options .select-option");for(let a of paletteOptions)a.addEventListener("click",themeSwitcher);function themeSwitcher(){let a=this.querySelector(".select-option-span").classList;a=a.value.toString(),a=a.replace("select-option-span","").trim(),document.documentElement.setAttribute("theme-color",a)}function closePopouts(){let a=document.querySelectorAll(".select-container");for(let b of a)document.documentElement.classList.remove("popout-is-open"),b.classList.remove("open"),b.querySelector("input").checked=!0,b.querySelector("input").dispatchEvent(new Event("change"))}async function pasteIntoInput(){let a=document.querySelector(".modal input[type=\"text\"]");const b=await navigator.clipboard.readText();a.focus(),a.value=b}function submitFile(){let a=document.querySelector(".modal input[type=\"file\"]");a.click()}function fileSubmitted(){let a=document.querySelector(".modal input[type=\"text\"]"),b=document.querySelector(".modal input[type=\"file\"]"),c=b.value.split("\\"),d=c[c.length-1];a.value=d}async function importCSSFromURL(){let a=document.querySelector("#theme-preview"),b=document.querySelector("#css-url-input").value,c=a.contentWindow.document.querySelector("#user-imported-css");b.endsWith(".css")?(b.includes("raw.githubusercontent.com")?b=b.replace("raw.githubusercontent.com","raw.githack.com"):b.includes("github.com")&&(b=b.replace("github.com","raw.githack.com"),b=b.replace("/blob/","/")),document.documentElement.classList.add("loading-iframe"),c.innerHTML=`@import '${b}'`,await sleep(500),document.documentElement.classList.remove("loading-iframe")):Toastify({title:"Error",text:"The file must be a CSS file.",selector:"iframe-container",duration:4e3,close:!0,gravity:"top",position:"right",// `left`, `center` or `right`
stopOnFocus:!0// Prevents dismissing of toast on hover
// async onClick(el) {
//   el.classList.add('toast-go-away');
//   await sleep(200);
//   el.remove();
// } // Callback after click
}).showToast();let d=modal.querySelector("#submit");d.removeEventListener("click",importCSSFromURL)}function importCSSFromFile(){let a=document.querySelector("#css-file-input"),b=a.files[0];if(!b)return void Toastify({title:"Error",text:"You did not upload any file.",selector:"iframe-container",duration:4e3,close:!0,gravity:"top",position:"right",// `left`, `center` or `right`
stopOnFocus:!0// Prevents dismissing of toast on hover
// async onClick(el) {
//   el.classList.add('toast-go-away');
//   await sleep(200);
//   el.remove();
// } // Callback after click
}).showToast();const c=new FileReader;c.onload=async a=>{let c=document.querySelector("#theme-preview"),d=c.contentWindow.document.querySelector("#user-imported-css");if("text/css"==b.type){document.documentElement.classList.add("loading-iframe");let b=a.target.result;d.innerHTML=b,await sleep(500),document.documentElement.classList.remove("loading-iframe")}else Toastify({title:"Error",text:"The file must be a CSS file.",selector:"iframe-container",duration:4e3,close:!0,gravity:"top",position:"right",// `left`, `center` or `right`
stopOnFocus:!0// Prevents dismissing of toast on hover
// async onClick(el) {
//   el.classList.add('toast-go-away');
//   await sleep(200);
//   el.remove();
// } // Callback after click
}).showToast()},c.readAsText(b)}let selectInputs=document.querySelectorAll(".select-input");for(let a of selectInputs)a.addEventListener("change",handlePopout);function handlePopout(){let a=this;a.checked?(a.parentElement.classList.remove("open"),document.documentElement.classList.remove("popout-is-open")):(a.parentElement.classList.add("open"),document.documentElement.classList.add("popout-is-open"))}function checkIfPopoutIsOpen(a){let b=document.querySelector(".select-container.open"),c=a.target;// clicked element
// This is a click outside.
if(c&&b){if(!(c instanceof Node))return document.documentElement.classList.remove("popout-is-open"),b.classList.remove("open"),b.querySelector("input").checked=!0,void b.dispatchEvent(new Event("change"));let a=b.contains(c);a||(document.documentElement.classList.remove("popout-is-open"),b.classList.remove("open"),b.querySelector("input").checked=!0,b.dispatchEvent(new Event("change")))}}let switchToggles=document.querySelectorAll(".switch");for(let a of switchToggles)a.addEventListener("change",toggleSwitches);function toggleSwitches(){let a=this;a&&a instanceof Node&&!a.disabled&&(a.checked?a.parentElement.classList.add("switch-enabled"):a.parentElement.classList.remove("switch-enabled"))}document.querySelector("#discord-dark-mode").addEventListener("change",discordDarkMode);function discordDarkMode(){let a=document.querySelector("#theme-preview"),b=a.contentWindow.document.documentElement,c=document.querySelector("#discord-dark-sidebar");this.checked?(b.classList.remove("theme-light"),b.classList.add("theme-dark"),c.checked=!1,c.dispatchEvent(new Event("change")),disableSwitch(c)):(b.classList.remove("theme-dark"),b.classList.add("theme-light"),unDisableSwitch(c))}function disableSwitch(a){a.disabled=!0,a.closest(".select-option-switch").classList.add("disabled")}function unDisableSwitch(a){// item.addEventListener('change', toggleSwitches);
a.disabled=!1,a.closest(".select-option-switch").classList.remove("disabled")}document.querySelector("#discord-dark-sidebar").addEventListener("change",discordDarkSidebar);function discordDarkSidebar(){let a=document.querySelector("#theme-preview"),b=a.contentWindow.document,c=document.querySelector("#discord-dark-sidebar");c.checked?(b.querySelector(".bg-h5JY_x")&&b.querySelector(".bg-h5JY_x").classList.add("theme-dark"),b.querySelector(".titleBar-AC4pGV")&&b.querySelector(".titleBar-AC4pGV").classList.add("theme-dark"),b.querySelector(".guilds-1SWlCJ")&&b.querySelector(".guilds-1SWlCJ").classList.add("theme-dark"),b.querySelector(".sidebar-2K8pFh")&&b.querySelector(".sidebar-2K8pFh").classList.add("theme-dark"),b.querySelector(".sidebarRegion-VFTUkN")&&b.querySelector(".sidebarRegion-VFTUkN").classList.add("theme-dark")):(b.querySelector(".bg-h5JY_x")&&b.querySelector(".bg-h5JY_x").classList.remove("theme-dark"),b.querySelector(".titleBar-AC4pGV")&&b.querySelector(".titleBar-AC4pGV").classList.remove("theme-dark"),b.querySelector(".guilds-1SWlCJ")&&b.querySelector(".guilds-1SWlCJ").classList.remove("theme-dark"),b.querySelector(".sidebar-2K8pFh")&&b.querySelector(".sidebar-2K8pFh").classList.remove("theme-dark"),b.querySelector(".sidebarRegion-VFTUkN")&&b.querySelector(".sidebarRegion-VFTUkN").classList.remove("theme-dark"))}document.querySelector("#discord-compact-mode").addEventListener("change",discordCompactMode);function discordCompactMode(){let a=document.querySelectorAll(".view-options .select-option:not(.select-nested-option)"),b=document.querySelector("#theme-preview"),c=document.querySelector("#discord-compact-mode");if(c.checked){for(let b of a)"Server"==b.querySelector(".select-option-span").textContent?b.classList.add("current"):(b.classList.add("disabled"),b.classList.remove("current"));b.dataset.compact="true",updateIframeContent({directory:"views",view:"server"})}else{for(let b of a)// Temporarily leaving Components disabled
"Components"!=b.parentElement.parentElement.querySelector(".select-option-span").textContent&&b.classList.remove("disabled");b.removeAttribute("data-compact"),updateIframeContent()}}